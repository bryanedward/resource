CREATE TABLE IF NOT EXISTS users(
    iduser INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    nameuser text NOT NULL CHECK (nameuser <> ''),
    emailuser text NOT NULL,
    roleuser text NOT NULL,
    passuser text NOT NULL,
    photouser text NOT NULL

);

CREATE TABLE IF NOT EXISTS publications(
    idpublication INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    namepublication text NOT NULL CHECK (namepublication <> ''),
    descriptpublication text,
    levelsubject INTEGER NOT NULL,
    userid INTEGER REFERENCES users(iduser)
);


CREATE TABLE IF NOT EXISTS messages(
  idmessage INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  messageuser text NOT NULL CHECK (messageuser <> ''),
  userid INTEGER REFERENCES users(iduser),
  publicationid INTEGER REFERENCES publications(idpublication)
);



INSERT INTO users(nameUser,emailUser,passUser, roleUser)
VALUES ('Bryan','edwardbrian96@gmail.com','3893259','students');


-- INSERT TASKS DATA
INSERT INTO publications(namePublication,descriptPublication,userId)
VALUES ('jwtoken','para que sirve',1);


INSERT INTO messages(messageuser,userid,publicationid)
VALUES ('se mas especifico',1, 1);
